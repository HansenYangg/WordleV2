@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');

:root {
    --primary: #818384;
    --secondary: #565758;
    --accent: #3a3a3c;
    --correct: #6aaa64;
    --present: #c9b458;
    --absent: #787c7e;
    --dark-bg: #0f0f23;
    --card-bg: rgba(255, 255, 255, 0.05);
    --glass-bg: rgba(255, 255, 255, 0.1);
    --border: rgba(255, 255, 255, 0.1);
    --text-primary: #ffffff;
    --text-secondary: #a0a0b0;
    --timer-warning: #c9b458;
    --timer-danger: #ff6b6b;
    --bubble-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    --bubble-shadow-hover: 0 12px 48px rgba(0, 0, 0, 0.4);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #0f0f23 100%);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* Animated Background Stars */
.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: transparent;
    z-index: 0;
}

.stars::before,
.stars::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    box-shadow:
        100px 100px white, 200px 150px white, 300px 50px white,
        400px 200px white, 500px 100px white, 600px 250px white,
        700px 80px white, 800px 180px white, 900px 120px white,
        1000px 220px white, 50px 300px white, 150px 350px white,
        250px 400px white, 350px 450px white, 450px 500px white,
        550px 350px white, 650px 400px white, 750px 450px white,
        850px 300px white, 950px 380px white, 120px 550px white,
        220px 600px white, 320px 650px white, 420px 700px white,
        520px 550px white, 620px 600px white, 720px 650px white,
        820px 700px white, 920px 550px white, 1020px 620px white;
    animation: sparkle 3s infinite;
}

.stars::after {
    animation-delay: 1.5s;
}

@keyframes sparkle {
    0%, 100% { opacity: 0.05; }
    50% { opacity: 0.15; }
}

/* Particles */
.particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: var(--primary);
    border-radius: 50%;
    animation: float 4s infinite;
    opacity: 0.3;
}

@keyframes float {
    0% { transform: translateY(100vh) translateX(0); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100px) translateX(100px); opacity: 0; }
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 2;
}

.header {
    text-align: center;
    margin-bottom: 30px;
    padding: 30px;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border-radius: 32px;
    border: 2px solid var(--border);
    box-shadow: var(--bubble-shadow);
    transition: all 0.3s ease;
}

.header:hover {
    box-shadow: var(--bubble-shadow-hover);
    transform: translateY(-2px);
}

.title {
    font-family: 'Poppins', sans-serif;
    font-size: 2.8rem;
    font-weight: 800;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    gap: 5px;
    letter-spacing: -1px;
}

.neon-text {
    color: var(--text-primary);
    font-weight: 800;
}

.neon-text-alt {
    background: linear-gradient(135deg, var(--correct) 0%, #8bc34a 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 800;
}

@keyframes flicker {
    0%, 100% { opacity: 1; }
    41.99% { opacity: 1; }
    42% { opacity: 0.8; }
    43% { opacity: 1; }
    45% { opacity: 0.9; }
    46% { opacity: 1; }
}

.subtitle {
    font-size: 1.1rem;
    color: var(--text-secondary);
    font-weight: 500;
    letter-spacing: 0.5px;
}

/* Stats Bar */
.stats-bar {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.stat-item {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    padding: 20px 15px;
    border-radius: 24px;
    text-align: center;
    border: 2px solid var(--border);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.stat-item:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.2);
}

.stat-label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-weight: 600;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.stat-value {
    font-family: 'Poppins', sans-serif;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--text-primary);
}

.stat-value.timer {
    color: var(--correct);
}

.stat-value.timer.warning {
    color: var(--timer-warning);
    animation: pulse 0.5s infinite;
}

.stat-value.timer.danger {
    color: var(--timer-danger);
    animation: pulse 0.3s infinite;
}

.stat-value.combo {
    color: var(--present);
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* Power-Ups */
.power-ups {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 20px;
}

.power-up-btn {
    position: relative;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 2px solid var(--border);
    border-radius: 20px;
    padding: 16px 22px;
    color: var(--text-primary);
    font-size: 1.8rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.power-up-btn:hover:not(:disabled) {
    transform: translateY(-4px) scale(1.08);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.3);
}

.power-up-btn:active:not(:disabled) {
    transform: translateY(-2px) scale(1.05);
}

.power-up-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    filter: grayscale(1);
}

.power-up-count {
    position: absolute;
    top: -10px;
    right: -10px;
    background: linear-gradient(135deg, var(--correct) 0%, #8bc34a 100%);
    color: white;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    font-weight: 700;
    box-shadow: 0 4px 12px rgba(106, 170, 100, 0.5);
    border: 2px solid var(--dark-bg);
}

/* Game Board */
.game-board {
    display: grid;
    gap: 5px;
    margin-bottom: 20px;
    padding: 10px;
}

.row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 5px;
}

.tile {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Poppins', sans-serif;
    font-size: 2rem;
    font-weight: 700;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 3px solid var(--border);
    border-radius: 20px;
    color: var(--text-primary);
    text-transform: uppercase;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.tile.filled {
    animation: pop 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    border-color: rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
}

.tile.correct {
    background: linear-gradient(135deg, var(--correct) 0%, #8bc34a 100%);
    border-color: var(--correct);
    color: white;
    animation: flip 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 6px 20px rgba(106, 170, 100, 0.4);
}

.tile.present {
    background: linear-gradient(135deg, var(--present) 0%, #e0c068 100%);
    border-color: var(--present);
    color: white;
    animation: flip 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 6px 20px rgba(201, 180, 88, 0.4);
}

.tile.absent {
    background: var(--absent);
    border-color: var(--absent);
    color: white;
    animation: flip 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

@keyframes pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

@keyframes flip {
    0% { transform: rotateX(0); }
    50% { transform: rotateX(90deg); }
    100% { transform: rotateX(0); }
}

/* Keyboard */
.keyboard {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 20px;
}

.keyboard-row {
    display: flex;
    gap: 6px;
    justify-content: center;
}

.key {
    font-family: 'Poppins', sans-serif;
    padding: 18px 12px;
    min-width: 40px;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 2px solid var(--border);
    border-radius: 16px;
    color: var(--text-primary);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.key:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.2);
}

.key:active {
    transform: translateY(0) scale(0.98);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.key.wide {
    min-width: 70px;
    font-size: 0.85rem;
    font-weight: 700;
}

.key.correct {
    background: linear-gradient(135deg, var(--correct) 0%, #8bc34a 100%);
    border-color: var(--correct);
    color: white;
    box-shadow: 0 4px 16px rgba(106, 170, 100, 0.4);
}

.key.present {
    background: linear-gradient(135deg, var(--present) 0%, #e0c068 100%);
    border-color: var(--present);
    color: white;
    box-shadow: 0 4px 16px rgba(201, 180, 88, 0.4);
}

.key.absent {
    background: var(--absent);
    border-color: var(--absent);
    color: rgba(255, 255, 255, 0.5);
    opacity: 0.7;
}

/* Controls */
.controls {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-bottom: 20px;
}

.btn {
    font-family: 'Poppins', sans-serif;
    padding: 16px 36px;
    border: none;
    border-radius: 20px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.btn-primary {
    background: linear-gradient(135deg, var(--correct) 0%, #8bc34a 100%);
    color: white;
    border: 2px solid var(--correct);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(106, 170, 100, 0.4);
}

.btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 4px 16px rgba(106, 170, 100, 0.3);
}

.btn-secondary {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    color: var(--text-primary);
    border: 2px solid var(--border);
}

.btn-secondary:hover {
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.btn-secondary:active {
    transform: translateY(0);
}

/* Message Container */
.message-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
}

.message {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 20px;
    padding: 16px 32px;
    color: var(--text-primary);
    font-weight: 600;
    font-size: 1rem;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1), slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) 2.6s;
    margin-bottom: 12px;
}

.message.error {
    background: linear-gradient(135deg, var(--timer-danger) 0%, #ff8787 100%);
    color: white;
    border-color: var(--timer-danger);
    box-shadow: 0 8px 32px rgba(255, 107, 107, 0.4);
}

@keyframes slideDown {
    from { transform: translateY(-100px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@keyframes slideUp {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-100px); opacity: 0; }
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    animation: fadeIn 0.3s ease;
}

.modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: var(--glass-bg);
    backdrop-filter: blur(40px);
    border: 2px solid var(--border);
    border-radius: 32px;
    padding: 40px;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
    animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideIn {
    from { transform: scale(0.8) translateY(40px); opacity: 0; }
    to { transform: scale(1) translateY(0); opacity: 1; }
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 25px;
    font-size: 2rem;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: var(--glass-bg);
}

.close-btn:hover {
    color: var(--text-primary);
    transform: rotate(90deg) scale(1.1);
    background: rgba(255, 255, 255, 0.1);
}

.modal-title {
    font-family: 'Poppins', sans-serif;
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 24px;
}

.modal-body {
    color: var(--text-primary);
    line-height: 1.8;
}

.instructions h3 {
    color: var(--correct);
    margin-top: 20px;
    margin-bottom: 10px;
    font-family: 'Orbitron', sans-serif;
}

.instructions ul {
    margin-left: 20px;
    margin-bottom: 15px;
}

.instructions li {
    margin-bottom: 8px;
}

.color-demo {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 10px;
}

.demo-tile {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    border-radius: 8px;
}

/* Responsive Design */
@media (max-width: 600px) {
    .title {
        font-size: 2rem;
    }

    .stats-bar {
        grid-template-columns: repeat(2, 1fr);
    }

    .tile {
        font-size: 1.5rem;
    }

    .key {
        padding: 12px;
        min-width: 30px;
    }
}
